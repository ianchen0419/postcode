<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Language" content="ja" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
</head>

<body>
	<input type="text" id="postcode" />
	<button type="button" onclick="jsonp(postcode.value)">submit</button>

	<script>
		function jsonp(url){
		    	var mailXhr=new XMLHttpRequest();
			mailXhr.open('POST', 'index.php', true);
			mailXhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			mailXhr.onreadystatechange=function(){
				if(mailXhr.readyState==4 && mailXhr.status==200){
					var json=JSON.parse(mailXhr.responseText);
					console.log(json.city);
					console.log(json.address);
				}
			};
			mailXhr.send("code="+url);
		}
	</script>
</body>
</html>